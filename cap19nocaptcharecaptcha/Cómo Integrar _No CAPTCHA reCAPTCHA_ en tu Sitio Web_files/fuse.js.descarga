!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var t={tenantId:"DGKSPXNV53",fuse_tenant:"publift",fuse_cdn:"//cdn.fuseplatform.net/publift/tags/",fuse_breakpoints:{m:1024,s:768,xs:0},fuse_settings:{adblock:!1,lazy:!1,responsive:!0,prebid:{enabled:!1,breakpoint_options:{},defaultTimeout:1e3},headerbidding:0,confiant:!1,cmp:!1,blockthrough:!0,amazonUam:{enabled:!1}},fuse_blocked_url:[],fuse_id:1007,fuse_slots:[{id:"21764347423",slot:"71161633/ENV_envato/mob_tutorial_1",sizes:[[320,100],[320,50]],sizeMapping:{xs:[[320,100],[320,50]],s:[],m:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{xs:!1,xl:!1,l:!1,m:!1,s:!1},bids:[]},{id:"21764347426",slot:"71161633/ENV_envato/article_mid_1",sizes:[[300,250],["fluid"]],sizeMapping:{s:[[300,250],"fluid"],m:[[300,250],"fluid"],xs:[]},attributes:{refresh:!1,adblock:!1,headerbidding:!1,lazy:!1},customLazy:{xs:1,xl:!1,l:!1,s:1,m:1},bids:[]},{id:"21764354922",slot:"71161633/ENV_envato/tutorial_rhs_2",sizes:[[160,600],[300,250],[300,600],[320,100],[320,50],["fluid"]],sizeMapping:{l:[],xs:[[300,250],[320,100],[320,50],"fluid"],s:[[160,600],"fluid"],xl:[],m:[[160,600],[300,250],[300,600],"fluid"]},attributes:{lazy:!1,refresh:!1,adblock:!1,headerbidding:!1},customLazy:{xs:!1,s:!1,m:!1,l:!1,xl:!1},bids:[]},{id:"21764354925",slot:"71161633/ENV_envato/mob_tutorial_4",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50],"fluid"],s:[],xl:[],l:[],m:[]},attributes:{lazy:!1,headerbidding:!1,refresh:!1,adblock:!1},customLazy:{s:!1,xs:!1,l:!1,xl:!1,m:!1},bids:[]},{id:"21764354928",slot:"71161633/ENV_envato/article_mid_2",sizes:[[300,250],["fluid"]],sizeMapping:{s:[[300,250],"fluid"],m:[[300,250],"fluid"],xs:[]},attributes:{refresh:!1,lazy:!1,headerbidding:!1,adblock:!1},customLazy:{m:1,l:!1,s:1,xl:!1,xs:1},bids:[]},{id:"21764354931",slot:"71161633/ENV_envato/mob_article_3",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xl:[],l:[],m:[],s:[],xs:[[300,250],[320,100],[320,50],"fluid"]},attributes:{adblock:!1,lazy:!1,refresh:!1,headerbidding:!1},customLazy:{xl:!1,s:!1,m:!1,l:!1,xs:!1},bids:[]},{id:"21764355504",slot:"71161633/ENV_envato/tutorial_top",sizes:[[320,100],[320,50],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{s:[[728,90],"fluid"],xs:[[320,100],[320,50],"fluid"],m:[[728,90],[970,250],[970,90],"fluid"]},attributes:{headerbidding:!1,refresh:!1,adblock:!1,lazy:!1},customLazy:{m:!1,xl:!1,s:!1,xs:!1,l:!1},bids:[]},{id:"21764355507",slot:"71161633/ENV_envato/tutorial_rhs_1",sizes:[[160,600],[300,250],[300,600],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[[160,600],[300,250],[300,600],"fluid"],s:[[160,600],"fluid"]},attributes:{refresh:!1,lazy:!1,adblock:!1,headerbidding:!1},customLazy:{s:!1,xs:!1,l:!1,m:!1,xl:!1},bids:[]},{id:"21764355510",slot:"71161633/ENV_envato/tutorial_bottom",sizes:[[300,250],[320,100],[320,50],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{s:[[728,90],"fluid"],xs:[[300,250],[320,100],[320,50]],m:[[728,90],[970,250],[970,90],"fluid"]},attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},customLazy:{s:!1,l:!1,xs:!1,m:!1,xl:!1},bids:[]},{id:"21764355513",slot:"71161633/ENV_envato/mob_tutorial_2",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50],"fluid"],l:[],xl:[],m:[],s:[]},attributes:{headerbidding:!1,refresh:!1,adblock:!1,lazy:!1},customLazy:{s:!1,l:!1,xl:!1,xs:!1,m:!1},bids:[]},{id:"21764355516",slot:"71161633/ENV_envato/mob_tutorial_3",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xl:[],s:[],l:[],xs:[[300,250],[320,100],[320,50],"fluid"],m:[]},attributes:{lazy:!1,refresh:!1,headerbidding:!1,adblock:!1},customLazy:{s:!1,xl:!1,m:!1,l:!1,xs:!1},bids:[]},{id:"21764355519",slot:"71161633/ENV_envato/article_top",sizes:[[320,100],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{xs:[[320,100]],m:[[728,90],[970,250],[970,90],"fluid"],s:[[728,90],"fluid"]},attributes:{lazy:!1,refresh:!1,adblock:!1,headerbidding:!1},customLazy:{xl:!1,s:!1,xs:!1,m:!1,l:!1},bids:[]},{id:"21764355522",slot:"71161633/ENV_envato/article_rhs_1",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{s:[[160,600],"fluid"],m:[[160,600],[300,250],[300,600],"fluid"],xs:[]},attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},customLazy:{xs:1,xl:!1,l:!1,m:1,s:1},bids:[]},{id:"21764355525",slot:"71161633/ENV_envato/article_rhs_2",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{l:[],s:[[160,600],"fluid"],xs:[],m:[[160,600],[300,250],[300,600],"fluid"],xl:[]},attributes:{lazy:!1,adblock:!1,headerbidding:!1,refresh:20},customLazy:{xs:!1,xl:!1,s:!1,l:!1,m:!1},bids:[]},{id:"21764355528",slot:"71161633/ENV_envato/article_rhs_3",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid"],xs:[],s:[[160,600],"fluid"]},attributes:{adblock:!1,lazy:!1,headerbidding:!1,refresh:!1},customLazy:{xs:!1,l:!1,xl:!1,s:!1,m:!1},bids:[]},{id:"21764355531",slot:"71161633/ENV_envato/article_bottom",sizes:[[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{xs:[],m:[[728,90],[970,250],[970,90],"fluid"],s:[[728,90],"fluid"]},attributes:{adblock:!1,refresh:!1,headerbidding:!1,lazy:!1},customLazy:{m:!1,l:!1,xs:!1,xl:!1,s:!1},bids:[]},{id:"21764355534",slot:"71161633/ENV_envato/mob_article_1",sizes:[[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[320,100],[320,50],"fluid"],xl:[],s:[],l:[],m:[]},attributes:{refresh:!1,adblock:!1,lazy:!1,headerbidding:!1},customLazy:{m:!1,xs:!1,s:!1,l:!1,xl:!1},bids:[]},{id:"21764355537",slot:"71161633/ENV_envato/mob_article_2",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50],"fluid"],xl:[],m:[],l:[],s:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{xl:!1,s:!1,m:!1,l:!1,xs:!1},bids:[]},{id:"21764355540",slot:"71161633/ENV_envato/mob_article_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{s:[],m:[],xs:[[300,250],[320,100],[320,50]]},attributes:{headerbidding:!1,adblock:!1,lazy:!1,refresh:!1},customLazy:{xs:!1,m:!1,s:!1,l:!1,xl:!1},bids:[]},{id:"21883893312",slot:"71161633/ENV_envato/mobile_sticky_footer",sizes:[[320,50]],sizeMapping:{s:[],xs:[[320,50]],m:[]},attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},customLazy:{xs:!1,xl:!1,s:!1,m:!1,l:!1},bids:[]},{id:"21884282942",slot:"71161633/ENV_envato/article_mid_3",sizes:[[300,250],[728,90],["fluid"]],sizeMapping:{s:[[300,250],"fluid",[728,90]],xs:[],m:[[300,250],"fluid",[728,90]]},attributes:{refresh:!1,adblock:!1,headerbidding:!1,lazy:!1},customLazy:{s:!1,xs:!1,xl:!1,m:!1,l:!1},bids:[]},{id:"21884282945",slot:"71161633/ENV_envato/article_mid_4",sizes:[[300,250],[728,90]],sizeMapping:{xs:[],s:[[300,250],[728,90]],m:[[300,250],[728,90]]},attributes:{headerbidding:!1,refresh:!1,adblock:!1,lazy:!1},customLazy:{xl:!1,s:!1,l:!1,xs:!1,m:!1},bids:[]},{id:"22018374233",slot:"71161633/ENV_envato/mob_article_top",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},bids:[]}],supported_sizes:{s:[[300,250],"fluid",[160,600],[728,90]],m:[[300,250],"fluid",[160,600],[300,600],[728,90],[970,250],[970,90]],xs:[[320,100],[320,50],[300,250],"fluid"],l:[],xl:[]},fuse_industry:["IAB19"]};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function a(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){var t,n,o;t=i,o=r[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var u=void 0;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<u.length;n++)e.call(t,u[n],n,u)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0==o)return!1;for(var i,r,s=0|t,a=Math.max(0<=s?s:o-Math.abs(s),0);a<o;){if((i=n[a])===(r=e)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;a++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function d(e,t){var n,o;e.hasOwnProperty("url")&&((n=U.document.createElement("script")).async=!0,n.type="text/javascript","function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src="https:".concat(e.url).concat(e.file),(o=U.document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,o))}function g(t,n,o){function i(){var e=Date.now()-c;e<n&&0<=e?r=setTimeout(i,n-e):(r=null,o||(l=t.apply(a,s),r||(a=s=null)))}var r,s,a,c,l;return function(){a=this,s=arguments,c=Date.now();var e=o&&!r;return r=r||setTimeout(i,n),e&&(l=t.apply(a,s),a=s=null),l}}function e(e){F.addEventListener("resize",g(e||function(){V.log("resized",F.innerWidth,F.innerHeight)},500))}function f(e){var n,o=B.fuse_breakpoints,i=e||F.innerWidth;return Object.keys(o).forEach(function(e){var t=o[e];t<i&&(!n||i<n)&&(n={size:t,name:e})}),n}function p(){return q.performance.timing.navigationStart}function b(){return H}function S(e){return!0===e?0:e}function h(e,t){var n=t.name;return e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(n)&&!1!==e.customLazy[n]?e.customLazy[n]:e.attributes.lazy}function m(e,t,n){if(!e)return!1;var o,i,r,s,a,c,l,u,d,g,f,p,b=e.getBoundingClientRect(),h=q.document.hidden,m=q.innerWidth||q.document.documentElement.clientWidth,y=q.innerHeight||q.document.documentElement.clientHeight,v=S(n),w=(i=m,r=y,s=v,a=t?t/100:1,c=(o=b).top,l=o.bottom,u=o.left,d=o.right,g=o.width,f=o.height*a,p=g*a,0<=c+f+s&&0<=u+p&&l-f<=r&&d-p<=i);return!h&&w}function y(e){if(!e)return G.error("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1}function v(t){if(!t)return G.error("missing parameter fuseSlotID");if("string"!=typeof t)return G.error("fuseSlotId should be of type string");var n=RegExp("".concat(t.toLowerCase(),"$"));return c(H.filter(function(e){return e.id===t||n.test(e.slot.toLowerCase())}),1)[0]||!1}function w(e){return e.filter(function(e){return Array.isArray(e)?"fluid"!==e[0]:"fluid"!==e})}function k(){var e=pe.top.location.host;return e.substring(e.length-40,e.length)}function A(){var e=pe.top.location.pathname;return e.substring(e.length-40,e.length)}function _(){var e=pe.top.location.search;return e.substring(e.length-40,e.length)}function P(){for(var e=[],t=pe.top.location.pathname.split("/"),n=0;n<t.length;n+=1)t[n].length&&-1===t[n].indexOf(".")&&e.push(t[n]);return e}function N(e){if(M&&M.cmd)return M.cmd.push(e);fe.log("googletag or googletag.cmd not exists")}function C(t){if(M&&t){var e=M.pubads().getSlots();return Array.isArray(t)?e.filter(function(e){return 0<=t.indexOf(e.getSlotElementId())}):e.filter(function(e){return e.getSlotElementId()===t})}}function z(e,t){N(function(){M.pubads().setTargeting(e,t)})}function E(){var t,n,o;z("fuse_profanity",(t=pe.top.location.host,n=pe.top.location.pathname,o="false",B.fuse_blocked_url&&B.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+n)&&(o="true")}),o)),z("fuse_site",k()),z("fuse_path",A()),z("fuse_query",_()),z("fuse_category",P()),z("fuse_industry",B.fuse_industry);var e="false";375<=pe.screen.width&&(e="true"),z("inskin_yes",e)}var I,M,O="2.14.1",T="2",D=function(){function t(e){i(this,t),this.console=e.console,this.logName=e.logName,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"callLogMethod",value:function(e){if(this.isInDebugMode){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n[0]="[".concat(this.logName,"]-").concat(n[0]),this.console[e].apply(null,n)}}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("error",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("warn",t)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("log",t)}}]),t}(),L=new(function(){function e(){i(this,e)}return n(e,[{key:"getPackageVersion",value:function(){return O}},{key:"getPackageMajorVersion",value:function(){return T}},{key:"getEnvironmentType",value:function(){return"undefined"!=typeof module&&module.exports?"node":"browser"}},{key:"isNodeEnvironment",value:function(){return"node"===this.getEnvironmentType()}},{key:"getBrowserWindowObject",value:function(){return window}},{key:"getPrebidGlobal",value:function(){return this.getBrowserWindowObject().fusePbjs||(this.getBrowserWindowObject().fusePbjs={que:[]}),this.getBrowserWindowObject().fusePbjs}},{key:"getQueryParam",value:function(t){return c(this.getBrowserWindowObject().top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}},{key:"isInDebugMode",value:function(){return this.isNodeEnvironment()||"true"===this.getQueryParam("fuse_debug")[1]}},{key:"getMainLogPrefix",value:function(){return"FUSE"}},{key:"getAdSlotQuerySelectorElement",value:function(){return"div"}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return"fuse-slot-"}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return"fuse-slot"}},{key:"getLogger",value:function(){if(this.logger)return this.logger;var e=this.isInDebugMode();return this.logger=new D({isInDebugMode:e,console:this.getBrowserWindowObject().console,logName:this.getMainLogPrefix()}),this.logger}}]),e}()),x=function(){function e(){i(this,e)}return n(e,[{key:"code",value:function(){return"1---"}}]),e}(),j=new(function(){function e(){i(this,e)}return n(e,[{key:"getCcpaPrivacyStringCoder",value:function(){return new x}},{key:"getUamPubID",value:function(){return t.fuse_settings.amazonUam&&t.fuse_settings.amazonUam.enabled?t.fuse_settings.amazonUam.pubID:""}},{key:"getUamAdServer",value:function(){return"googletag"}}]),e}()),B=t,W={gpt:{name:"Google Publisher Tag",url:"//securepubads.g.doubleclick.net/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:B.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"},confiant:{name:"Confiant",url:"//clarium.global.ssl.fastly.net/gpt/a/",file:"wrap.js?v2_1"},blockthrough:{name:"Blockthrough",url:"//publift-com.videoplayerhub.com/",file:"galleryplayer.js"}},U=L.getBrowserWindowObject(),V=L.getLogger(),F=L.getBrowserWindowObject(),R={watchForBreakpoints:function(t){var n=F.innerWidth,o=f(n).size;e(function(){n=F.innerWidth;var e=f(n).size;return e!==o?(o=e,V.log("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",n,e),t(!0)):t(!1)})},setResizeListener:e,getCurrentBreakpoint:f},G=L.getLogger(),J=L.getAdSlotQuerySelectorElement(),Q=L.getTargetAdSlotNodeMainClassName(),q=L.getBrowserWindowObject(),H=JSON.parse(JSON.stringify(B.fuse_slots)),Y=function(e,t){var n;return G.log("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-p()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),q.document.getElementById(e.code)||((n=q.document.createElement("div")).setAttribute("id","".concat(e.code)),n.className=Q,t.appendChild(n)),t},X=m,K=function(e,t,n){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!m(e,50,h(t,n)))},Z=function(){for(var e=q.document.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},$=w,ee=function(t){var e=R.getCurrentBreakpoint().name,n=c(b().filter(function(e){return e.id===t})||[],1)[0];return n?n.sizeMapping&&n.sizeMapping[e]?w(n.sizeMapping[e]):(G.warn('Fuse slot "'.concat(t,'" does not have sizemaps configured, sizeless prebid units may act strangely.')),w(n.sizes||[])):[]},te=p,ne=function(){return q.fusetag.que||[]},oe=function(e){var t=q.document.querySelectorAll("".concat(J,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&G.warn("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},ie=function(e){var t=q.document.querySelectorAll("".concat(J,'[data-fuse="').concat(e,'"]'));return t[t.length-1]},re=function(e){if(e.prebid&&e.prebid.enabled&&e.prebid.breakpoint_options){var t=R.getCurrentBreakpoint().name,n=e.prebid.breakpoint_options[t];if(n)return n}return{enabled:0<e.headerbidding,timeout:e.headerbidding}},se=v,ae=function(){return I},ce=function(){return Array.prototype.slice.call(q.document.querySelectorAll("".concat(J,"[data-fuse]")))},le=h,ue=function(e){if(!e)return G.error("missing parameter fuseSlotNode");var t,n,o=e.getAttribute("data-fuse"),i=v(o);return i||G.warn("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(o)),i&&(y(i),t=e.getAttribute("data-targeting-key"),n=e.getAttribute("data-targeting-value"),t&&t.length&&n&&n.length&&(i.targeting||(i.targeting={}),i.targeting[t]=n)),i},de=function(e){return I=e},ge=W.gpt,fe=L.getLogger(),pe=L.getBrowserWindowObject(),be=E,he=function(){pe.googletag&&pe.googletag._loadStarted_?fe.log("[LOAD]: 3. GPT v".concat(M.getVersion()," is already on the page, skip loading another copy")):d(ge,function(){fe.log("[LOAD]: 3. GPT ".concat(pe.googletag&&pe.googletag._loadStarted_?"v".concat(M.getVersion()," is loaded and ready"):"not loaded")),fe.log("[TIME]: time in ms it took GPT to load",new Date-te())})},me=function(e){var t,n,o,i,r,s,a=M.defineSlot(e.slot,e.sizes,e.code),c=Math.ceil(100*Math.random());return a&&(i=a,(r=e).sizeMapping&&0!==Object.keys(r.sizeMapping).length&&(s=M.sizeMapping(),Object.keys(r.sizeMapping).forEach(function(e){var t=B.fuse_breakpoints[e],n=r.sizeMapping[e];void 0!==t&&(fe.log("[EVENT] Setting breakpoint for slot ".concat(r.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(n)),s.addSize([t,0],n))}),i.defineSizeMapping(s.build())),n=a=i,(o=e).targeting&&Object.keys(o.targeting).length&&Object.keys(o.targeting).forEach(function(e){n.setTargeting(e,o.targeting[e])}),a=n,t=10<c?"optimized":c%10==0?"benchmark":"exploration".concat(c%10),!1!==B.fuse_settings.adomik&&a.setTargeting("publift_mv_testing",t),a.addService(M.pubads())),a},ye=function(){return M=pe.googletag||(pe.googletag={cmd:[]})},ve=z,we=N,Se=function(e){if(M){var t=!e&&0<M.pubads().getSlots().length?M.pubads().getSlots()[M.pubads().getSlots().length-1].getSlotElementId():e?e.code:null;return fe.log("[BIDS]: Initialising DFP call at",new Date-(ae()||te())),M.display(t)}},ke=function(e){var t=e?C(e):null;return fe.log("[BIDS]: Making DFP call for ".concat(e&&e.length?JSON.stringify(e):"all units")),M.pubads().refresh(t)},Ae=function(){M.pubads().disableInitialLoad(),M.pubads().collapseEmptyDivs(!0),M.pubads().setCentering(!0),M.pubads().enableSingleRequest(),E()},_e=function(t){M.pubads().addEventListener("slotRenderEnded",function(e){fe.log("[BIDS]: Adserver responded ".concat(e.isEmpty?"without":"with"," creative for ").concat(e.slot.getSlotElementId())),fe.log("[TIME]: time in ms it took for adserver to respond",new Date-(ae()||te())),t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},Pe=function(){M.pubads().addEventListener("impressionViewable",function(e){fe.log("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(ae()||te()))})},Ne=function(){pe.googletag.enableServices()},Ce=function(){pe.googletag.pubads().disableInitialLoad(),pe.googletag.pubads().setRequestNonPersonalizedAds(1)},ze=function(){function t(e){i(this,t),this.slots={},this.logger=e.logger,this.getMatchedFuseSlot=e.getMatchedFuseSlot,this.destroySlotsFunc=e.destroySlotsFunc}return n(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");var n=e.toLowerCase();Array.isArray(this.slots[n])||(this.slots[n]=[]),this.slots[n].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t,n,o;e&&"string"==typeof e&&(t=e.toLowerCase(),(n=this.getMatchedFuseSlot(t))&&(n.targeting={}),o=this.slots[t],Array.isArray(o)&&(this.destroySlotsFunc(o),this.slots[t]=[]))}},{key:"getSlots",value:function(e){if(e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()]))return this.slots[e.toLowerCase()]}},{key:"setSlotTargetingById",value:function(t,n,o){var e,i,r=this;t&&"string"==typeof t&&((e=this.getMatchedFuseSlot(t))&&(e.targeting||(e.targeting={}),e.targeting[n]=o),(i=r.slots[t.toLowerCase()])&&Array.isArray(i)&&i.length&&i.forEach(function(e){try{e.setTargeting(n,o)}catch(e){r.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}}))}}]),t}(),Ee=function(){function t(e){i(this,t),this.logger=e.logger,this.targetAdSlotNodeIdPrefix=e.targetAdSlotNodeIdPrefix,this.packageVersion=e.packageVersion,this.browserWindow=e.browserWindow,this.adSlotRegistry=e.adSlotRegistry,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"getActiveModules",value:function(){return["no-module"]}}]),t}(),Ie=function(){function t(e){i(this,t),this.pubID=e.pubID,this.adServer=e.adServer,this.logger=e.logger,this.browserWindow=e.browserWindow,this.gdpr={},this.params={}}return n(t,[{key:"loadAmazonUam",value:function(n,o,e,t,i,r,s){function a(e,t){o[n]._Q.push([e,t])}o[n]||(o[n]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=e.createElement(t)).async=!0,r.src=i,(s=e.getElementsByTagName(t)[0]).parentNode.insertBefore(r,s))}},{key:"applyCCPA",value:function(e){this.params={us_privacy:e},this.logger.log("[CONSENT]: CCPA config passed onto UAM")}},{key:"applyGDPR",value:function(){this.gdpr={cmpTimeout:1e4},this.logger.log("[CONSENT]: GDPR config passed onto UAM")}},{key:"getUamConfig",value:function(){var e={pubID:this.pubID,adServer:this.adServer};return Object.getOwnPropertyNames(this.gdpr).length&&(e.gdpr=this.gdpr),Object.getOwnPropertyNames(this.params).length&&(e.params=this.params),e}},{key:"load",value:function(){if(this.loadAmazonUam("apstag",this.browserWindow,this.browserWindow.document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),!this.browserWindow.apstag)return this.logger.error("[LOAD]: 0. UAM script loading failed.")}},{key:"init",value:function(e){this.browserWindow.apstag.init(this.getUamConfig()),this.logger.log("[LOAD]: 0. UAM script loaded"),this.logger.log("[TIME]: time in ms it took UAM script to load",new Date-e)}},{key:"makeBids",value:function(e,t){var n=this;this.browserWindow.apstag.fetchBids({slots:e},function(e){n.browserWindow.googletag.cmd.push(function(){n.browserWindow.apstag.setDisplayBids(),t(e)})})}}]),t}(),Me=function(){function o(e){i(this,o),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt,this.uspTries=0,this.uspTriesLimit=3,this.createUspStub()}return n(o,[{key:"checkForCCPA",value:function(n){var o=this;this.browserWindow.__uspapi("uspPing",1,function(e,t){t&&e.mode.includes("USP")&&e.jurisdiction.includes(e.location.toUpperCase())?(o.logger.log("[CONSENT]: CCPA Region"),o.browserWindow.__uspapi("setUspDftData",1,function(e,t){o.logger.log("[CONSENT]: Setting up data for USP API",JSON.stringify(e),t),o.browserWindow.__uspapi("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(o.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__tcfapi("displayConsentUi",2,function(){return e.logger.log("[CONSENT]: GDPR Consent UI displayed")})})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__uspapi("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__tcfapi("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){this.browserWindow.__tcfapi("getTCData",2,function(e,t){return t&&e?e.gdprApplies?o.CONSENT_RECEIVED_STATES.includes(e.eventStatus.toLowerCase())?n({consentReceived:!0,personalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],googlePersonalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],gdprApplies:e.gdprApplies}):n({consentReceived:!1,gdprApplies:e.gdprApplies}):n({consentReceived:!0,gdprApplies:!1}):n({consentReceived:!1})})}},{key:"createUspStub",value:function(){function t(){var e=arguments;r(i.__uspapi)!==t&&setTimeout(function(){void 0!==i.__uspapi&&i.__uspapi.apply(i.__uspapi,e)},400)}var e,n=this,o=this.logger,i=this.browserWindow;void 0===i.__uspapi&&(i.__uspapi=t,e=setInterval(function(){n.uspTries++,i.__uspapi===t&&n.uspTries<n.uspTriesLimit?o.warn("USP is not accessible"):clearInterval(e)},4e3))}}]),o}();Me.CONSENT_RECEIVED_STATES=["useractioncomplete","tcloaded"];function Oe(e){var t=e/.835;return Ue.log("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}var Te=function(){function t(e){i(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt}return n(t,[{key:"checkForCCPA",value:function(n){var o=this;this.browserWindow.__cmp("uspPing",null,function(e,t){t&&e&&e.location&&"ca"===e.location.toLowerCase()?(o.logger.log("[CONSENT]: CCPA Region"),o.browserWindow.__cmp("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(o.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__cmp("displayConsentUi")})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__cmp("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__cmp("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){var o=this;this.browserWindow.__cmp("getVendorConsents",null,function(t,e){e&&t?o.browserWindow.__cmp("getGooglePersonalization",function(e){n({consentReceived:!0,personalisedAdsConsent:t.purposeConsents&&t.purposeConsents[2]&&t.purposeConsents[3],googlePersonalisedAdsConsent:e&&e.googlePersonalizationData&&1===e.googlePersonalizationData.consentValue,gdprApplies:t.gdprApplies})}):n({consentReceived:!1,gdprApplies:t&&t.gdprApplies})})}}]),t}(),De=function(){function t(e){i(this,t),this.options=e}return n(t,[{key:"getVersion",value:function(e){var t;switch(e){case 1:t=new Te(this.options);break;case 2:t=new Me(this.options);break;default:t=new Te(this.options)}return t}}]),t}(),Le=function(){function t(e){i(this,t),this.browserWindow=e.browserWindow,this.versionLoader=e.versionLoader,this.logger=e.logger,this.versionNumber=1,this.version=null,this.gdprApplies=!1,this.ccpaApplies=!1,this.ccpaPrivacyString=null,this.stubFunctionsGenerator=e.stubFunctionsGenerator,this.scriptLoader=e.scriptLoader}return n(t,[{key:"init",value:function(){this.scriptLoader.load(),this.stubFunctionsGenerator.generate(),this.loadVersion()}},{key:"loadVersion",value:function(){this.checkForVersion1(),this.checkForVersion2()}},{key:"versionHandler",value:function(e){var t=this,n=e.found,o=e.versionNumber;null===this.version&&(n?this.setVersion(o):setTimeout(function(){t.loadVersion()},500))}},{key:"checkForVersion1",value:function(){var n=this;this.browserWindow.__cmp("ping",null,function(e,t){n.versionHandler({found:t,versionNumber:1})})}},{key:"checkForVersion2",value:function(){var t=this;this.browserWindow.__tcfapi("ping",null,function(e){t.versionHandler({found:e.cmpLoaded,versionNumber:2})})}},{key:"setVersion",value:function(e){this.versionNumber=e,this.version=this.versionLoader.getVersion(e)}},{key:"checkForCCPA",value:function(e){this.version.checkForCCPA(e)}},{key:"cmpLoaded",value:function(e){if(this.logger.log("[CONSENT]: Check if CMP has been loaded"),null===this.version)return e(!1);this.version.cmpLoaded(e)}},{key:"getConsentData",value:function(e){this.version.getConsentData(e)}},{key:"setGDPR",value:function(e){this.gdprApplies=e}},{key:"setCCPA",value:function(e){this.ccpaApplies=e}},{key:"setPrivacyString",value:function(e){this.ccpaPrivacyString=e}},{key:"setGDPRConsentPrompt",value:function(){this.version.setGDPRConsentPrompt()}},{key:"setCCPAConsentPrompt",value:function(){this.version.setCCPAConsentPrompt()}}]),t}(),xe=function(){function o(e,t,n){i(this,o),this.browserWindow=e,this.domSelector=t||"div[data-fuse-privacy-tool]",this.elementId=n||"fuse-privacy-tool"}return n(o,[{key:"setup",value:function(e,t){var n,o=this.browserWindow.document.querySelector(this.domSelector);o&&((n=document.createElement("a")).href="javascript:void(0)",n.id=this.elementId,n.innerHTML=e,n.addEventListener("click",t),o.appendChild(n))}}]),o}(),je=function(){function t(e){i(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow}return n(t,[{key:"generate",value:function(){this.createStubFunctionV1(),this.createStubFunctionV2()}},{key:"createStubFunctionV1",value:function(){var t;void 0===this.browserWindow.__cmp&&(t=this.browserWindow,this.browserWindow.__cmp=function(){var e=arguments;"object"!==r(t.__cmp.a)&&setTimeout(function(){t.__cmp.apply(t.__cmp,e)},400)})}},{key:"createStubFunctionV2",value:function(){function e(){for(var e,i="__tcfapiLocator",o=[],r=t.browserWindow;r;){try{if(r.frames[i]){e=r;break}}catch(e){"{}"!==JSON.stringify(e)&&t.logger.error("[CONSENT]:",JSON.stringify(e))}if(r===t.browserWindow.top)break;r=r.parent}e||(t.logger.log(" !cmpFrame "),function e(){var t,n=r.document,o=!!r.frames[i];return o||(n.body?((t=n.createElement("iframe")).style.cssText="display:none",t.name=i,n.body.appendChild(t)):setTimeout(e,5)),!o}(),r.__tcfapi=function(){var e,t,n=arguments;if(!n.length)return o;"setGdprApplies"===n[0]?3<n.length&&2===n[2]&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?(t={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"},"function"==typeof n[2]&&n[2](t)):o.push(n)},r.addEventListener("message",function(o){var i="string"==typeof o.data,e={};try{e=i?JSON.parse(o.data):o.data}catch(e){"{}"!==JSON.stringify(e)&&t.logger.error("[CONSENT]:",JSON.stringify(e))}var r=e.__tcfapiCall;r&&t.browserWindow.__tcfapi(r.command,r.version,function(e,t){var n={__tcfapiReturn:{returnValue:e,success:t,callId:r.callId}};i&&(n=JSON.stringify(n)),o.source.postMessage(n,"*")},r.parameter)},!1))}var t=this;"undefined"!=typeof module?module.exports=e:e()}}]),t}(),Be=function(){function t(e){i(this,t),this.browserWindow=e.browserWindow}return n(t,[{key:"load",value:function(){var e=new XMLHttpRequest,t=this.browserWindow.document.location.hostname,n=this.browserWindow.document.createElement("script"),o=this.browserWindow.document.getElementsByTagName("script")[0],i=(new Date).getTime(),r="https://quantcast.mgr.consensu.org".concat("/choice/","PRrmquD1Ggcb1","/",t,"/choice.js").concat("?timestamp=",i);e.onreadystatechange=function(){var e;4===this.readyState&&(n.async=!0,n.type="text/javascript",200===this.status?n.src=r:(e="https://quantcast.mgr.consensu.org".concat("/choice.js"),n.src=e,r=e),o.parentNode.insertBefore(n,o))},e.open("GET",r,!0),e.send()}}]),t}(),We=new(function(){function e(){i(this,e)}return n(e,[{key:"getPackageVersion",value:function(){return L.getPackageVersion()}},{key:"getPackageMajorVersion",value:function(){return L.getPackageMajorVersion()}},{key:"isInDebugMode",value:function(){return L.isInDebugMode()}},{key:"getAdSlotQuerySelectorElement",value:function(){return L.getAdSlotQuerySelectorElement()}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return L.getTargetAdSlotNodeIdPrefix()}},{key:"getBrowserWindowObject",value:function(){return L.getBrowserWindowObject()}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return L.getTargetAdSlotNodeMainClassName()}},{key:"getPrebidGlobal",value:function(){return L.getPrebidGlobal()}},{key:"getLogger",value:function(){return L.getLogger()}},{key:"getGptSlotRegistry",value:function(){var t=this;return new ze({logger:this.getLogger(),getMatchedFuseSlot:function(e){return se(e)},pushToGoogleTagQueueFunc:function(e){return e},destroySlotsFunc:function(e){return we(function(){t.getBrowserWindowObject().googletag.destroySlots(e)})}})}},{key:"getFuseTag",value:function(){return new Ee({logger:this.getLogger(),targetAdSlotNodeIdPrefix:this.getTargetAdSlotNodeIdPrefix(),packageVersion:this.getPackageVersion(),browserWindow:this.getBrowserWindowObject(),adSlotRegistry:this.getGptSlotRegistry(),isInDebugMode:this.isInDebugMode()})}},{key:"getUamPubID",value:function(){return j.getUamPubID()}},{key:"getUamAdServer",value:function(){return j.getUamAdServer()}},{key:"getAmazonUam",value:function(){return new Ie({pubID:this.getUamPubID(),adServer:this.getUamAdServer(),logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpVersionLoader",value:function(){return new De({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),consentUIPrompt:new xe(this.getBrowserWindowObject())})}},{key:"getStubFunctionsGenerator",value:function(){return new je({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpScriptLoader",value:function(){return new Be({browserWindow:this.getBrowserWindowObject()})}},{key:"getConsentManger",value:function(){return new Le({browserWindow:this.getBrowserWindowObject(),logger:this.getLogger(),versionLoader:this.getCmpVersionLoader(),stubFunctionsGenerator:this.getStubFunctionsGenerator(),scriptLoader:this.getCmpScriptLoader()})}}]),e}()),Ue=We.getLogger(),Ve=We.getPackageMajorVersion(),Fe=We.getBrowserWindowObject(),Re=We.getPrebidGlobal(),Ge=W.prebid,Je=function(e,t){var n=1<arguments.length&&void 0!==t?t:{};"function"!=typeof Fe.__tcfapi&&"function"!=typeof Fe.__cmp&&!n.cmp||(e.consentManagement={cmpApi:"iab",timeout:1e4,allowAuctionWithoutConsent:!1},Ue.log("[CONSENT]: prebid consent management module in place"))},Qe=function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},qe=function(e){e.priceGranularity={buckets:[{max:3,increment:.01,precision:2},{max:10,increment:.1,precision:2},{max:50,increment:1,precision:2},{max:100,increment:10,precision:2}]}},He=function(e){e.enableSendAllBids=!1},Ye=function(t,n){var o;n&&n.fuse_settings&&n.fuse_settings.responsive&&(o=null,t.sizeConfig=[],Object.keys(n.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(n.fuse_breakpoints[e],"px)").concat(o?" and (max-width: ".concat(o-1,"px)"):""),sizesSupported:n.supported_sizes[e],labels:[e]}),o=n.fuse_breakpoints[e]}))},Xe=function(e){e.bidderSettings={ix:{bidCpmAdjustment:Oe}}},Ke={loadPrebidLibrary:function(){if(!Re||!Re.libLoaded){var t,e=a({},Ge);return"true"===(t="local_prebid",(c(U.top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[])[1])?(Ue.warn("[LOAD]: local version of prebid in use"),e.url="./"):e.url+="".concat(Ve,"/").concat(B.fuse_id,"/"),d(e,function(){Ue.log("[LOAD]: 3. Prebid ".concat(Re&&Re.libLoaded?"".concat(Re.version," is loaded and ready"):"not loaded")),Ue.log("[TIME]: time in ms it took Prebid to load",new Date-te()),Fe.pbjs&&Fe.pbjs.libLoaded?Fe.pbjs.renderAd||(Fe.pbjs.renderAd=Re.renderAd):Fe.pbjs=Re})}Ue.log("[LOAD]: 3. Prebid ".concat(Re.version," is already loaded skip loading it again"))},pushToPrebidQue:function(e){Re&&Re.que&&Re.que.push(e)},setPrebidAdUnits:function(e){var t=ee(e.id);Ue.log("[BIDS]: Setting Prebid ad units for ".concat(e.code," with sizes ").concat(JSON.stringify(t))),Re.addAdUnits({code:e.code,mediaTypes:{banner:{sizes:t}},bids:e.bids})},setPrebidConfig:function(){var e,t={};return qe(t),He(t),Je(t,B),Ye(t,B),Qe(t),Xe(t),Ue.log("[BIDS]: Setting Prebid Config"),Re.setConfig(t),(e=B).prebid_analytics&&e.prebid_analytics.length&&e.prebid_analytics.forEach(function(e,t){0!==t&&Ue.warn("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),Re.enableAnalytics(e),Ue.log("[ANALYTICS]: Analytics enabled for ".concat(e.provider))}),t}},Ze=We.getBrowserWindowObject(),$e={capture:!0,passive:!0},et=function(n,o,i){Ze.addEventListener("scroll",function e(){var t=R.getCurrentBreakpoint();X(n,null,le(o,t))&&(le(o,t)||0===le(o,t))&&(i(),Ze.removeEventListener("scroll",e,$e))},$e)},tt=We.getLogger(),nt=We.getBrowserWindowObject(),ot=W.adblock,it={loadAdBlocklLibrary:function(){return d(ot,function(){tt.log("[LOAD]: 3. Adblock script loaded."),tt.log("[TIME]: time in ms to load Adblock script",new Date-te())})},createAdBlockObj:function(){return nt.Criteo||(nt.Criteo={events:[]})},buildAdBlockSlots:function(e,t){var n,o,i,r,s;0<t.querySelectorAll('[id^="crt"]').length||e.attributes&&e.attributes.adblock&&(n=nt.document.createElement("DIV"),o=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",i={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:o,callbacksuccess:function(e){log("[SLOTS]: Adblock slots ".concat(i.containerid," loaded")),log("[TIME]: time in ms it took Adblock Slot ".concat(i.containerid," to load"),new Date-te()),e.target.parentNode.style.display="block"}},n.id=i.containerid,n.className="fuse-adblock",t.appendChild(n),r=i,nt.Criteo?(s=r,nt.Criteo.events.push(function(){tt.log("[SLOTS]: Adblock slots ".concat(s.containerid," set up")),nt.Criteo.DisplayAcceptableAdIfAdblocked(s),nt.document.getElementById(s.containerid).style.height=s.height,nt.document.getElementById(s.containerid).style.display="none"})):tt.warn("You need to declare the global Criteo Object first"))}},rt=We.getLogger(),st=We.getBrowserWindowObject();var at={enable:function(){(st._clrm||(st._clrm={})).gpt={propertyId:"bR7_trg8Qo2LNRwdGIEOwoeDupQ",confiantCdn:"clarium.global.ssl.fastly.net",sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"|||Mzg5ODk4MDMz,|||MjM4MTU5MzYwMg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMA==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMw==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzNg==,|||MjM4MTAxNzQzOQ==,|||MjU0MTE4ODU3NQ==,|||MjM4MTAxNzU2Mg==,|co|ex|MQ==",callback:function(e,t,n,o,i,r){rt.log("[CONFIANT]",arguments)}},d(W.confiant,function(){rt.log("[LOAD]: 0. Confiant tag loaded"),rt.log("[TIME]: time in ms it took Confiant tag to load",new Date-te())})}},ct=We.getLogger();var lt={enable:function(){d(W.blockthrough,function(){ct.log("[LOAD]: 0. Blockthrough tag loaded"),ct.log("[TIME]: time in ms it took Blockthrough tag to load",new Date-te())})}},ut=function(){function o(e,t){var n=this;i(this,o),this.log=t,this.registry={},e.forEach(function(e){n.registry[e]=[]})}return n(o,[{key:"on",value:function(e,t){return!!this.registry[e]&&(this.registry[e].push(t),!0)}},{key:"off",value:function(e,n){return!!this.registry[e]&&(this.registry[e].forEach(function(e,t){e===n&&(o=t)}),!(!o&&0!==o)&&(this.registry[e].splice(o,1),!0));var o}},{key:"once",value:function(t,n){var o=this;return o.on(t,function e(){n.apply(null,Array.prototype.slice.call(arguments)),o.off(t,e)})}},{key:"emit",value:function(e){if(!this.registry[e])return!1;var t=Array.prototype.slice.call(arguments);t.shift(),this.log("[EVENT] ".concat(e," triggered with ").concat(this.registry[e].length," in the registry")),this.registry[e].forEach(function(e){e.apply(null,t)})}}]),o}(),dt=We.getLogger(),gt=We.getTargetAdSlotNodeIdPrefix(),ft=We.getPackageVersion(),pt=We.isInDebugMode(),bt=We.getPrebidGlobal(),ht=We.getGptSlotRegistry(),mt=We.getBrowserWindowObject(),yt=We.getAmazonUam(),vt=We.getConsentManger(),wt=t,St=wt.fuse_settings;St.pageTargeting=[];var kt=mt.fusetag||(mt.fusetag={que:[]});kt.initialised=kt.initialised||!1,kt.states=kt.states||[{loaded:!0,ts:Date.now()}],pt&&(kt.version=ft);function At(){var e=Math.random().toString(16).slice(2);return Object.prototype.hasOwnProperty.call(Qt,e)?At():e}function _t(e){Qt[e]={aps:!1,prebid:!1}}function Pt(e){ke(e)}function Nt(e,t){St.prebid.enabled&&St.amazonUam.enabled?Qt[t].aps&&Qt[t].prebid&&(Pt(e),delete Qt[t]):Pt(e)}function Ct(){return Wt}function zt(){return Ut}function Et(){return JSON.parse(JSON.stringify(wt))}function It(){Object.keys(Vt).forEach(function(e){return clearInterval(Vt[e])}),Vt={}}function Mt(e){var t=At();_t(t);var n,o=e||Object.keys(Ut),i=re(St);dt.log("[BIDS][".concat(t,"]: Going to refresh slots with Prebid options - enabled: ").concat(i.enabled," Amazon UAM - enabled: ").concat(St.amazonUam.enabled," -- timeout: ").concat(i.timeout)),i&&i.enabled||St.amazonUam.enabled?(i.enabled&&Ke.pushToPrebidQue(function(){bt&&bt.adUnits&&(bt.adUnits=bt.adUnits.map(function(e){var t=Ut[e.code];if(!t)return e;var n=ee(t.id);return e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),e})),bt.requestBids({timeout:i.timeout,bidsBackHandler:function(e){dt.log("[BIDS][".concat(t,"]: Prebid bid response for all"),JSON.stringify(e)),dt.log("[TIME][".concat(t,"]: time it took for Prebid bids to return"),new Date-(ae()||te())),bt.setTargetingForGPTAsync(),Z(),Qt[t].prebid=!0,Nt(o,t)}})}),St.amazonUam.enabled&&Ut&&(n=Object.values(Ut).map(function(e){return{slotID:e.code,slotName:e.slot,sizes:$(e.sizes)}}),yt.makeBids(n,function(e){dt.log("[BIDS][".concat(t,"]: UAM slots "),JSON.stringify(n)),dt.log("[BIDS][".concat(t,"]: UAM bid response for all "),JSON.stringify(e)),dt.log("[TIME][".concat(t,"]: time it took for UAM bids to return"),new Date-(ae()||te())),Qt[t].aps=!0,Nt(o,t)}))):we(function(){Z(),ke(o)})}function Ot(n){var o,i,r,e;n&&(o=At(),_t(o),dt.log("[REFRESH][".concat(o,"]: Refreshing ").concat(n," at: "),new Date-(ae()||te())),i=re(St),(r=Ut[n])&&(i&&i.enabled||St.amazonUam.enabled?(i.enabled&&Ke.pushToPrebidQue(function(){var e,t;bt&&bt.adUnits&&((e=bt.adUnits[n])&&(t=ee(r.id),e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=t),bt.adUnits[n]=e)),bt.requestBids({timeout:i.timeout,adUnitCodes:[n],bidsBackHandler:function(e){var t;t=n,dt.log("[BIDS][".concat(o,"]: Prebid bid response for ").concat(t),JSON.stringify(e)),dt.log("[TIME][".concat(o,"]: time it took for Prebid bids to return"),new Date-(ae()||te())),bt.setTargetingForGPTAsync([t]),Qt[o].prebid=!0,Nt(t,o)}})}),St.amazonUam.enabled&&(e=[{slotID:r.code,slotName:r.slot,sizes:$(r.sizes)}],yt.makeBids(e,function(e){dt.log("[BIDS][".concat(o,"]: UAM bid response for ").concat(r.code),JSON.stringify(e)),dt.log("[TIME][".concat(o,"]: time it took for UAM bids to return"),new Date-(ae()||te())),Qt[o].aps=!0,Nt(r,o)}))):we(function(){ke(n)})))}function Tt(t,e){Vt[t.code]&&clearInterval(Vt[t.code]),Vt[t.code]=setInterval(function(){var e=R.getCurrentBreakpoint();t.element&&X(mt.document.getElementById(t.code)||t.element,50,le(t,e))&&Ot(t.code)},1e3*e)}function Dt(e){e.attributes.refresh?(dt.log("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-te()),Tt(e,e.attributes.refresh)):0===e.attributes.refresh?dt.log("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-te()):St.refresh&&0<St.refresh?(dt.log("[LOAD]: Setting global refresh time of ".concat(St.refresh," seconds for ").concat(e.code," at: "),new Date-te()),Tt(e,St.refresh)):dt.log("[LOAD]: No refresh timer exists in account settings.")}function Lt(e,t){var n=t?mt.document.getElementById(t):ie(e);if(!n)return dt.warn("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));var o=n.getAttribute("data-fuse-code");if(o&&Wt[o]===n)return dt.log("[SLOTS]: ".concat(e," has already with been bootstrapped and showing ad with ad slot ID ").concat(o));var i=JSON.parse(JSON.stringify(ue(n)));i&&(i.code="".concat(gt).concat(i.id,"-").concat(i.matched),Y(i,n),i.attributes&&i.attributes.adblock&&it.buildAdBlockSlots(i,n),Ut[i.code]=i,Ut[i.code].element=n,Wt[i.code]=n,we(function(){var e=me(i);return ht.add(i.id,e),e}),0<St.headerbidding&&Ke.pushToPrebidQue(function(){Ke.setPrebidAdUnits(i)}),we(function(){Se(i)}),Dt(i),Jt.emit(Gt,i),Ot(i.code))}function xt(e,t){kt.initialised?Lt(e,t):kt.onTagInitialised(function(){Lt(e,t)})}function jt(){dt.log("[EVENT]: resetSlots"),de(new Date),ht.purgeAll(),Wt={},Ut={},Z(),It(),Object.keys(St.pageTargeting).forEach(function(e){we(function(){mt.googletag.pubads().clearTargeting(e.key)})}),0<St.headerbidding&&bt&&bt.adUnits&&(bt.adUnits.length=0)}function Bt(){dt.log("[EVENT]: loadSlots started"),jt();var e=ce(),o=[],i=[];e.forEach(function(e){var t,n=ue(e);n&&(n.code||((n=JSON.parse(JSON.stringify(n))).code="".concat(gt).concat(n.id,"-").concat(n.matched)),Y(n,e),n.attributes&&n.attributes.adblock&&it.buildAdBlockSlots(n,e),Ut[n.code]=n,Ut[n.code].element=e,Wt[n.code]=e,i.push(n.code),o.push(n),t=R.getCurrentBreakpoint(),K(e,n,t)?(dt.log("[SLOTS]: Adding lazy listener for ".concat(n.code)),et(e,n,function(){!function(e){dt.log("[LOAD]: Loading ".concat(e," at ").concat(new Date-(ae()||te())));var t=oe(e).getAttribute("data-fuse-code");t||dt.warn("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var n=zt()[t];n&&(we(function(){var e=me(n);return ht.add(n.id,e),e}),0<St.headerbidding&&Ke.pushToPrebidQue(function(){Ke.setPrebidAdUnits(n)}),we(function(){Se(n)}),Ot(n.code),Dt(n))}(n.code)})):(we(function(){var e=me(n);return ht.add(n.id,e),e}),0<St.headerbidding&&n.bids&&0<n.bids.length&&Ke.pushToPrebidQue(function(){Ke.setPrebidAdUnits(n)}),we(function(){Se(n)}),Dt(n)))}),Jt.emit(Rt,o),we(function(){be(),St.pageTargeting.forEach(function(e){ve(e.key,e.value)}),i.length&&Mt()})}var Wt={},Ut={},Vt={},Ft="onTagInitialised",Rt="onSlotsInitialised",Gt="onSlotCreated",Jt=new ut([Ft,Rt,Gt],function(){return dt.log.apply(dt,arguments)}),Qt={};kt.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return ht.getSlots("".concat(e))},kt.setSlotTargetingById=function(e,t,n){!e||"string"!=typeof e&&"number"!=typeof e||ht.setSlotTargetingById(e,t,n)},kt.onSlotRenderEnded=function(e){we(function(){return _e(e)})},kt.getAdSlotsByFuseId=kt.getAdSlotsById,kt.getFuseSlots=zt,kt.getFuseSettings=Et,kt.getFuseUnits=Ct,kt.loadFuseSlots=Bt,kt.loadFuseSlotById=xt,kt.resetFuseSlots=jt,kt.setSlotTargetingByFuseId=kt.setSlotTargetingById,kt.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&Vt[e]?(dt.log("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(Vt[e])):(dt.log("[REFRESH]: Disabling refresh for all units"),It())},kt.setTargeting=function(n,e){var o=-1;St.pageTargeting.forEach(function(e,t){-1===o&&e.key===n&&(o=t)}),-1<o?(St.pageTargeting[o].value=e,dt.log("[LOAD]: Updating custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))):(St.pageTargeting.push({key:n,value:e}),dt.log("[LOAD]: Adding custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))),kt.initialised&&we(function(){dt.log("[GPT]: Setting targeting for [key: ".concat(n,", value: ").concat(e,"]")),ve(n,e)})},kt.getTargeting=function(){return St.pageTargeting},kt.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){dt.error("Error processing command :",e.message,e.stack)}else dt.error("Commands written into fusetag.que.push must be wrapped in a function")};function qt(e){var t=e.disablePersonalisedAds,n=e.forceDisablePrebid;dt.log("[INIT]: disablePersonalisedAds is ".concat(t?"on":"off")),dt.log("[INIT]: forceDisablePrebid is ".concat(n?"on":"off")),t&&we(function(){Ce()}),St.amazonUam.enabled&&(yt.load(),vt.gdprApplies?yt.applyGDPR():vt.ccpaApplies&&yt.applyCCPA(vt.ccpaPrivacyString),yt.init(te())),n&&(St.headerbidding=0,St.prebid&&St.prebid.breakpoint_options&&Object.keys(St.prebid.breakpoint_options).forEach(function(e){St.prebid.breakpoint_options[e].enabled=!1})),0<St.headerbidding&&(Ke.loadPrebidLibrary(),Ke.pushToPrebidQue(function(){Ke.setPrebidConfig()}),we(function(){mt.googletag.pubads().disableInitialLoad()}),dt.log("[LOAD]: 2. Headerbidding enabled, settings and ".concat(St.headerbidding,"ms timeout added"))),0<St.adblock&&(it.createAdBlockObj(),it.loadAdBlocklLibrary(),dt.log("[LOAD]: 2. Adblock has been enabled.")),we(function(){Ae(),_e(function(e){Ut[e.slotId]?Ut[e.slotId].hasCreative=e.hasCreative:dt.log("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),Pe(Ut),Ne()}),St.responsive&&R.watchForBreakpoints(function(e){e&&Mt()});var o=setInterval(function(){if("loading"!==mt.document.readyState&&mt.googletag&&mt.googletag.apiReady){if(clearInterval(o),kt.initialised)return void dt.log("[LOAD]: Fuse tag has been initialised, skip the remaining of the process");dt.log("[TIME]: time in ms it took the page to load: ",new Date-te()),kt.loaded||(kt.loaded=!0,ne().forEach(function(e){if(dt.log("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){dt.error("Error processing command :",e.message,e.stack)}else dt.error("Commands written into fusetag.que.push must be wrapped in a function")})),dt.log("[LOAD]: Calling loadSlots"),Bt(),Jt.emit(Ft),kt.initialised=!0,kt.states.push({initialised:!0,ts:Date.now()})}else dt.log("Waiting for parent Page to finish loading. Page status is: ",mt.document.readyState)},10)}var Ht,Yt;kt.loaded&&dt.warn("[LOAD]: Fuse Tag was loaded more than once."),St.confiant&&at.enable(),St.cmp&&vt.init(),St.blockthrough&&lt.enable(),dt.log("[LOAD]: 1. Fuse Tag v".concat(ft," is loaded and ready")),dt.log("[TIME]: time in ms it took Fuse to load",new Date-te()),ye(),he(),St.skip_auto_init?dt.log("[INIT]: auto init is off skip Fuse init"):St.cmp?(dt.log("[CONSENT]: Found IAB CMP try to check for CMP status before initiating"),Ht=1,Yt=setInterval(function(){vt.cmpLoaded(function(e){if(!e)return Ht<20?void(Ht+=1):(dt.log("[CONSENT]: Cannot load CMP after 20 seconds, continue as per normal"),clearInterval(Yt),void qt({disablePersonalisedAds:!1,forceDisablePrebid:!1}));dt.log("[CONSENT]: CMP loaded version ".concat(vt.versionNumber,", checking for consent")),clearInterval(Yt);vt.getConsentData(function e(t){var n=t.consentReceived,o=t.personalisedAdsConsent,i=t.googlePersonalisedAdsConsent,r=t.gdprApplies;if(!1!==r){if(n||!(Ht<20))return vt.setGDPR(r),vt.setGDPRConsentPrompt(),20===Ht?qt({disablePersonalisedAds:!1,forceDisablePrebid:!1}):(dt.log("[CONSENT]: ".concat(i?"[Y]":"[N]"," Google Personalised Ads")),dt.log("[CONSENT]: ".concat(o?"[Y]":"[N]"," Vendors Personalised Ads")),qt({disablePersonalisedAds:!i,forceDisablePrebid:!o}));setTimeout(function(){Ht+=1,vt.getConsentData(e)},1e3)}else{dt.log("[CONSENT]: Not in GDPR region");var s=!1;vt.checkForCCPA(function(e){return e.applies?(vt.setCCPAConsentPrompt(),vt.setCCPA(e.applies),vt.setPrivacyString(e.privacyString),s="Y"===e.privacyString[2].toUpperCase()):dt.log("[CONSENT]: Not in CCPA region, continue as normal"),qt({disablePersonalisedAds:s,forceDisablePrebid:s})})}})})},1e3)):(dt.log("[CONSENT]: No CMP found, continue to init Fuse"),qt(!1)),kt.init=qt,kt.setDefaultTargeting=be,kt.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Vt))},kt.getSlots=zt,kt.getSettings=Et,kt.getUnits=Ct,kt.loadSlots=Bt,kt.loadSlotById=xt,kt.refreshSlots=Mt,kt.refreshSlotByCode=Ot,kt.resetSlots=jt,kt.onTagInitialised=function(e){Jt.once(Ft,e)},kt.onSlotsInitialised=function(e){Jt.once(Rt,e)},kt.onSlotInitialised=function(e){Jt.once(Gt,e)};We.getBrowserWindowObject()});
